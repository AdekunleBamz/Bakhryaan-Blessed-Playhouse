{
  "/index.html": "data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+QmFraHJ5YWFuIEJsZXNzZWQgUGxheWhvdXNlIC0gQXJjYWRlIENvbGxlY3Rpb248L3RpdGxlPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZS5jc3MiPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1PcmJpdHJvbjp3Z2h0QDQwMDs3MDA7OTAwJmZhbWlseT1FeG8rMjp3Z2h0QDMwMDs0MDA7NjAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8IS0tIEhlYWRlciBTZWN0aW9uIC0tPgogICAgICAgIDxoZWFkZXIgY2xhc3M9ImdhbWUtaGVhZGVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibG9nby1jb250YWluZXIiPgogICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJtYWluLXRpdGxlIj5CYWtocnlhYW4gQmxlc3NlZCBQbGF5aG91c2U8L2gxPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3VidGl0bGUiPkJsZXNzZWQgR2FtaW5nIEV4cGVyaWVuY2U8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb250cm9scyI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzb3VuZFRvZ2dsZSIgY2xhc3M9ImNvbnRyb2wtYnRuIj7wn5SKPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJmdWxsc2NyZWVuVG9nZ2xlIiBjbGFzcz0iY29udHJvbC1idG4iPuKbtjwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2hlYWRlcj4KCiAgICAgICAgPCEtLSBHYW1lIFNlbGVjdGlvbiBNZW51IC0tPgogICAgICAgIDxkaXYgaWQ9ImdhbWVNZW51IiBjbGFzcz0iZ2FtZS1tZW51Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWVudS10aXRsZSI+Q2hvb3NlIFlvdXIgQWR2ZW50dXJlPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtZ3JpZCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJnYW1lLWNhcmQiIGRhdGEtZ2FtZT0ic25ha2UiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtaWNvbiI+8J+QjTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMz5OZW9uIFNuYWtlPC9oMz4KICAgICAgICAgICAgICAgICAgICA8cD5DbGFzc2ljIHNuYWtlIHdpdGggbmVvbiBhZXN0aGV0aWNzPC9wPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtc3RhdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5IaWdoIFNjb3JlOiA8c3BhbiBpZD0ic25ha2VTY29yZSI+MDwvc3Bhbj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtY2FyZCIgZGF0YS1nYW1lPSJtZW1vcnkiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtaWNvbiI+8J+noDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMz5NZW1vcnkgTWF0Y2g8L2gzPgogICAgICAgICAgICAgICAgICAgIDxwPlRlc3QgeW91ciBtZW1vcnkgd2l0aCBiZWF1dGlmdWwgY2FyZHM8L3A+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2FtZS1zdGF0cyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkJlc3QgVGltZTogPHNwYW4gaWQ9Im1lbW9yeVRpbWUiPi0tPC9zcGFuPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2FtZS1jYXJkIiBkYXRhLWdhbWU9Im1hdGgiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtaWNvbiI+8J+UojwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMz5RdWljayBNYXRoPC9oMz4KICAgICAgICAgICAgICAgICAgICA8cD5GYXN0LXBhY2VkIG1hdGhlbWF0aWNhbCBjaGFsbGVuZ2VzPC9wPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtc3RhdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5MZXZlbDogPHNwYW4gaWQ9Im1hdGhMZXZlbCI+MTwvc3Bhbj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtY2FyZCIgZGF0YS1nYW1lPSJjb2xvciI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2FtZS1pY29uIj7wn46oPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGgzPkNvbG9yIFJ1c2g8L2gzPgogICAgICAgICAgICAgICAgICAgIDxwPk1hdGNoIGNvbG9ycyBpbiB0aGlzIGV4Y2l0aW5nIHJ1c2g8L3A+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2FtZS1zdGF0cyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlNjb3JlOiA8c3BhbiBpZD0iY29sb3JTY29yZSI+MDwvc3Bhbj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtY2FyZCIgZGF0YS1nYW1lPSJ0ZXRyaXMiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtaWNvbiI+8J+nqTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMz5OZW9uIFRldHJpczwvaDM+CiAgICAgICAgICAgICAgICAgICAgPHA+Q2xhc3NpYyBibG9jayBzdGFja2luZyB3aXRoIG5lb24gZ2xvdzwvcD4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJnYW1lLXN0YXRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+TGluZXM6IDxzcGFuIGlkPSJ0ZXRyaXNMaW5lcyI+MDwvc3Bhbj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtY2FyZCIgZGF0YS1nYW1lPSJmbGFwcHkiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtaWNvbiI+8J+QpjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMz5GbGFwcHkgQmlyZDwvaDM+CiAgICAgICAgICAgICAgICAgICAgPHA+TmF2aWdhdGUgdGhyb3VnaCBuZW9uIHBpcGVzPC9wPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdhbWUtc3RhdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TY29yZTogPHNwYW4gaWQ9ImZsYXBweVNjb3JlIj4wPC9zcGFuPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPCEtLSBHYW1lIENhbnZhcyBDb250YWluZXIgLS0+CiAgICAgICAgPGRpdiBpZD0iZ2FtZUNhbnZhcyIgY2xhc3M9ImdhbWUtY2FudmFzLWNvbnRhaW5lciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2FtZS1oZWFkZXItYmFyIj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImJhY2tUb01lbnUiIGNsYXNzPSJiYWNrLWJ0biI+4oaQIEJhY2sgdG8gTWVudTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2FtZS1pbmZvIj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0iY3VycmVudEdhbWVOYW1lIj5HYW1lPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJnYW1lVGltZXIiPlRpbWU6IDAwOjAwPC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJnYW1lLWNvbnRyb2xzIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJwYXVzZUdhbWUiIGNsYXNzPSJjb250cm9sLWJ0biI+4o+477iPPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icmVzdGFydEdhbWUiIGNsYXNzPSJjb250cm9sLWJ0biI+8J+UhDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8Y2FudmFzIGlkPSJnYW1lQ2FudmFzRWxlbWVudCIgd2lkdGg9IjgwMCIgaGVpZ2h0PSI2MDAiPjwvY2FudmFzPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJnYW1lLW92ZXJsYXkiIGlkPSJnYW1lT3ZlcmxheSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im92ZXJsYXktY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJvdmVybGF5VGl0bGUiPkdhbWUgT3ZlcjwvaDI+CiAgICAgICAgICAgICAgICAgICAgPHAgaWQ9Im92ZXJsYXlNZXNzYWdlIj5Zb3VyIHNjb3JlOiA8c3BhbiBpZD0ib3ZlcmxheVNjb3JlIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvdmVybGF5LWJ1dHRvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJwbGF5QWdhaW4iIGNsYXNzPSJidG4tcHJpbWFyeSI+UGxheSBBZ2FpbjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJiYWNrVG9NYWluIiBjbGFzcz0iYnRuLXNlY29uZGFyeSI+TWFpbiBNZW51PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gTG9hZGluZyBTY3JlZW4gLS0+CiAgICAgICAgPGRpdiBpZD0ibG9hZGluZ1NjcmVlbiIgY2xhc3M9ImxvYWRpbmctc2NyZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibG9hZGluZy1jb250ZW50Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvYWRpbmctc3Bpbm5lciI+PC9kaXY+CiAgICAgICAgICAgICAgICA8aDI+TG9hZGluZyBCbGVzc2VkIFBsYXlob3VzZS4uLjwvaDI+CiAgICAgICAgICAgICAgICA8cD5QcmVwYXJpbmcgeW91ciBnYW1pbmcgZXhwZXJpZW5jZTwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gRm9vdGVyIC0tPgogICAgICAgIDxmb290ZXIgY2xhc3M9ImdhbWUtZm9vdGVyIj4KICAgICAgICAgICAgPHA+QnVpbHQgd2l0aCDinaTvuI8gYnkgPHN0cm9uZz5CYW16elN0dWRpbzwvc3Ryb25nPiBvbiA8c3Ryb25nPkJsZXNzIE5ldHdvcms8L3N0cm9uZz48L3A+CiAgICAgICAgPC9mb290ZXI+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0IHNyYz0ic2NyaXB0LmpzIj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==",
  "/script.js": "data:application/javascript;base64,Ly8gQmFraHJ5YWFuIEJsZXNzZWQgUGxheWhvdXNlIC0gRW5oYW5jZWQgQXJjYWRlIENvbGxlY3Rpb24KLy8gTW9kZXJuIEphdmFTY3JpcHQgd2l0aCBFUzYrIGZlYXR1cmVzLCBzb3VuZCBlZmZlY3RzLCBhbmQgNiBnYW1lcwoKY2xhc3MgQmxlc3NlZFBsYXlob3VzZSB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICB0aGlzLmN1cnJlbnRHYW1lID0gbnVsbDsKICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9ICdtZW51JzsKICAgICAgICB0aGlzLnNvdW5kRW5hYmxlZCA9IHRydWU7CiAgICAgICAgdGhpcy5zY29yZXMgPSB7CiAgICAgICAgICAgIHNuYWtlOiAwLAogICAgICAgICAgICBtZW1vcnk6IDAsCiAgICAgICAgICAgIG1hdGg6IDAsCiAgICAgICAgICAgIGNvbG9yOiAwLAogICAgICAgICAgICB0ZXRyaXM6IDAsCiAgICAgICAgICAgIGZsYXBweTogMAogICAgICAgIH07CiAgICAgICAgdGhpcy5nYW1lVGltZXIgPSBudWxsOwogICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDsKICAgICAgICB0aGlzLnNvdW5kcyA9IHt9OwogICAgICAgIHRoaXMuZ2FtZU92ZXJSZWFzb24gPSAnJzsKICAgICAgICAKICAgICAgICB0aGlzLmluaXQoKTsKICAgIH0KCiAgICBpbml0KCkgewogICAgICAgIHRoaXMuaGlkZUxvYWRpbmdTY3JlZW4oKTsKICAgICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTsKICAgICAgICB0aGlzLmxvYWRTY29yZXMoKTsKICAgICAgICB0aGlzLnNob3dNZW51KCk7CiAgICAgICAgdGhpcy5pbml0U291bmRzKCk7CiAgICB9CgogICAgaGlkZUxvYWRpbmdTY3JlZW4oKSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9LCAyMDAwKTsKICAgIH0KCiAgICBpbml0U291bmRzKCkgewogICAgICAgIC8vIENyZWF0ZSBhdWRpbyBjb250ZXh0IGZvciBzb3VuZCBlZmZlY3RzCiAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsKICAgICAgICAKICAgICAgICAvLyBHZW5lcmF0ZSBkaWZmZXJlbnQgc291bmQgZnJlcXVlbmNpZXMgZm9yIGRpZmZlcmVudCBlZmZlY3RzCiAgICAgICAgdGhpcy5zb3VuZHMgPSB7CiAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLnBsYXlUb25lKDgwMCwgMC4xKSwKICAgICAgICAgICAgc3VjY2VzczogKCkgPT4gdGhpcy5wbGF5VG9uZSgxMjAwLCAwLjIpLAogICAgICAgICAgICBlcnJvcjogKCkgPT4gdGhpcy5wbGF5VG9uZSg0MDAsIDAuMyksCiAgICAgICAgICAgIGdhbWVPdmVyOiAoKSA9PiB0aGlzLnBsYXlUb25lKDIwMCwgMC41KQogICAgICAgIH07CiAgICB9CgogICAgcGxheVRvbmUoZnJlcXVlbmN5LCBkdXJhdGlvbikgewogICAgICAgIGlmICghdGhpcy5zb3VuZEVuYWJsZWQpIHJldHVybjsKICAgICAgICAKICAgICAgICBjb25zdCBvc2NpbGxhdG9yID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpOwogICAgICAgIGNvbnN0IGdhaW5Ob2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpOwogICAgICAgIAogICAgICAgIG9zY2lsbGF0b3IuY29ubmVjdChnYWluTm9kZSk7CiAgICAgICAgZ2Fpbk5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7CiAgICAgICAgCiAgICAgICAgb3NjaWxsYXRvci5mcmVxdWVuY3kudmFsdWUgPSBmcmVxdWVuY3k7CiAgICAgICAgb3NjaWxsYXRvci50eXBlID0gJ3NpbmUnOwogICAgICAgIAogICAgICAgIGdhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4zLCB0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSk7CiAgICAgICAgZ2Fpbk5vZGUuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDEsIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lICsgZHVyYXRpb24pOwogICAgICAgIAogICAgICAgIG9zY2lsbGF0b3Iuc3RhcnQodGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUpOwogICAgICAgIG9zY2lsbGF0b3Iuc3RvcCh0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSArIGR1cmF0aW9uKTsKICAgIH0KCiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkgewogICAgICAgIC8vIEdhbWUgY2FyZCBjbGlja3MKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FtZS1jYXJkJykuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBnYW1lVHlwZSA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmdhbWU7CiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZShnYW1lVHlwZSk7CiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kcy5jbGljaygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gQ29udHJvbCBidXR0b25zCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kVG9nZ2xlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudG9nZ2xlU291bmQoKTsKICAgICAgICAgICAgdGhpcy5zb3VuZHMuY2xpY2soKTsKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVsbHNjcmVlblRvZ2dsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKTsKICAgICAgICAgICAgdGhpcy5zb3VuZHMuY2xpY2soKTsKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFja1RvTWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnNob3dNZW51KCk7CiAgICAgICAgICAgIHRoaXMuc291bmRzLmNsaWNrKCk7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdXNlR2FtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnBhdXNlR2FtZSgpOwogICAgICAgICAgICB0aGlzLnNvdW5kcy5jbGljaygpOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXJ0R2FtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnJlc3RhcnRHYW1lKCk7CiAgICAgICAgICAgIHRoaXMuc291bmRzLmNsaWNrKCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIE92ZXJsYXkgYnV0dG9ucwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5QWdhaW4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgdGhpcy5yZXN0YXJ0R2FtZSgpOwogICAgICAgICAgICB0aGlzLnNvdW5kcy5jbGljaygpOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrVG9NYWluJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2hvd01lbnUoKTsKICAgICAgICAgICAgdGhpcy5zb3VuZHMuY2xpY2soKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gR2xvYmFsIGtleWJvYXJkIGNvbnRyb2xzCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB0aGlzLmhhbmRsZUtleVByZXNzKGUpKTsKICAgIH0KCiAgICBzdGFydEdhbWUoZ2FtZVR5cGUpIHsKICAgICAgICB0aGlzLmN1cnJlbnRHYW1lID0gZ2FtZVR5cGU7CiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSAncGxheWluZyc7CiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lTWVudScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVDYW52YXMnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudEdhbWVOYW1lJykudGV4dENvbnRlbnQgPSB0aGlzLmdldEdhbWVEaXNwbGF5TmFtZShnYW1lVHlwZSk7CiAgICAgICAgCiAgICAgICAgdGhpcy5zdGFydEdhbWVUaW1lcigpOwogICAgICAgIHRoaXMuaW5pdGlhbGl6ZUdhbWUoZ2FtZVR5cGUpOwogICAgfQoKICAgIGdldEdhbWVEaXNwbGF5TmFtZShnYW1lVHlwZSkgewogICAgICAgIGNvbnN0IG5hbWVzID0gewogICAgICAgICAgICBzbmFrZTogJ05lb24gU25ha2UnLAogICAgICAgICAgICBtZW1vcnk6ICdNZW1vcnkgTWF0Y2gnLAogICAgICAgICAgICBtYXRoOiAnUXVpY2sgTWF0aCcsCiAgICAgICAgICAgIGNvbG9yOiAnQ29sb3IgUnVzaCcsCiAgICAgICAgICAgIHRldHJpczogJ05lb24gVGV0cmlzJywKICAgICAgICAgICAgZmxhcHB5OiAnRmxhcHB5IEJpcmQnCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gbmFtZXNbZ2FtZVR5cGVdIHx8ICdHYW1lJzsKICAgIH0KCiAgICBpbml0aWFsaXplR2FtZShnYW1lVHlwZSkgewogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lQ2FudmFzRWxlbWVudCcpOwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIAogICAgICAgIC8vIENsZWFyIGNhbnZhcwogICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAKICAgICAgICBzd2l0Y2goZ2FtZVR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnc25ha2UnOgogICAgICAgICAgICAgICAgdGhpcy5pbml0U25ha2VHYW1lKGN0eCwgY2FudmFzKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdtZW1vcnknOgogICAgICAgICAgICAgICAgdGhpcy5pbml0TWVtb3J5R2FtZShjdHgsIGNhbnZhcyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnbWF0aCc6CiAgICAgICAgICAgICAgICB0aGlzLmluaXRNYXRoR2FtZShjdHgsIGNhbnZhcyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnY29sb3InOgogICAgICAgICAgICAgICAgdGhpcy5pbml0Q29sb3JHYW1lKGN0eCwgY2FudmFzKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICd0ZXRyaXMnOgogICAgICAgICAgICAgICAgdGhpcy5pbml0VGV0cmlzR2FtZShjdHgsIGNhbnZhcyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnZmxhcHB5JzoKICAgICAgICAgICAgICAgIHRoaXMuaW5pdEZsYXBweUdhbWUoY3R4LCBjYW52YXMpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEVuaGFuY2VkIFNuYWtlIEdhbWUgd2l0aCBHYW1lIE92ZXIgUHJvbXB0CiAgICBpbml0U25ha2VHYW1lKGN0eCwgY2FudmFzKSB7CiAgICAgICAgY29uc3Qgc25ha2UgPSB7CiAgICAgICAgICAgIHg6IGNhbnZhcy53aWR0aCAvIDIsCiAgICAgICAgICAgIHk6IGNhbnZhcy5oZWlnaHQgLyAyLAogICAgICAgICAgICBzaXplOiAyMCwKICAgICAgICAgICAgc3BlZWQ6IDUsCiAgICAgICAgICAgIGR4OiAyMCwKICAgICAgICAgICAgZHk6IDAsCiAgICAgICAgICAgIGJvZHk6IFt7eDogY2FudmFzLndpZHRoIC8gMiwgeTogY2FudmFzLmhlaWdodCAvIDJ9XSwKICAgICAgICAgICAgZm9vZDogdGhpcy5nZW5lcmF0ZUZvb2QoY2FudmFzKQogICAgICAgIH07CgogICAgICAgIHRoaXMuc25ha2UgPSBzbmFrZTsgLy8gU3RvcmUgcmVmZXJlbmNlIGZvciBrZXlib2FyZCBjb250cm9scwoKICAgICAgICBsZXQgZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gJ3BsYXlpbmcnKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGdhbWVMb29wKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gTW92ZSBzbmFrZQogICAgICAgICAgICBzbmFrZS54ICs9IHNuYWtlLmR4OwogICAgICAgICAgICBzbmFrZS55ICs9IHNuYWtlLmR5OwoKICAgICAgICAgICAgLy8gV3JhcCBhcm91bmQgZWRnZXMKICAgICAgICAgICAgaWYgKHNuYWtlLnggPCAwKSBzbmFrZS54ID0gY2FudmFzLndpZHRoOwogICAgICAgICAgICBpZiAoc25ha2UueCA+IGNhbnZhcy53aWR0aCkgc25ha2UueCA9IDA7CiAgICAgICAgICAgIGlmIChzbmFrZS55IDwgMCkgc25ha2UueSA9IGNhbnZhcy5oZWlnaHQ7CiAgICAgICAgICAgIGlmIChzbmFrZS55ID4gY2FudmFzLmhlaWdodCkgc25ha2UueSA9IDA7CgogICAgICAgICAgICAvLyBDaGVjayBmb29kIGNvbGxpc2lvbgogICAgICAgICAgICBpZiAoTWF0aC5hYnMoc25ha2UueCAtIHNuYWtlLmZvb2QueCkgPCBzbmFrZS5zaXplICYmIE1hdGguYWJzKHNuYWtlLnkgLSBzbmFrZS5mb29kLnkpIDwgc25ha2Uuc2l6ZSkgewogICAgICAgICAgICAgICAgc25ha2UuYm9keS5wdXNoKHsuLi5zbmFrZS5ib2R5W3NuYWtlLmJvZHkubGVuZ3RoIC0gMV19KTsKICAgICAgICAgICAgICAgIHNuYWtlLmZvb2QgPSB0aGlzLmdlbmVyYXRlRm9vZChjYW52YXMpOwogICAgICAgICAgICAgICAgdGhpcy5zY29yZXMuc25ha2UgKz0gMTA7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKCdzbmFrZScpOwogICAgICAgICAgICAgICAgdGhpcy5zb3VuZHMuc3VjY2VzcygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBVcGRhdGUgYm9keQogICAgICAgICAgICBmb3IgKGxldCBpID0gc25ha2UuYm9keS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7CiAgICAgICAgICAgICAgICBzbmFrZS5ib2R5W2ldID0gey4uLnNuYWtlLmJvZHlbaS0xXX07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc25ha2UuYm9keVswXSA9IHt4OiBzbmFrZS54LCB5OiBzbmFrZS55fTsKCiAgICAgICAgICAgIC8vIENoZWNrIHNlbGYgY29sbGlzaW9uCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc25ha2UuYm9keS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNuYWtlLnggLSBzbmFrZS5ib2R5W2ldLngpIDwgc25ha2Uuc2l6ZSAmJiBNYXRoLmFicyhzbmFrZS55IC0gc25ha2UuYm9keVtpXS55KSA8IHNuYWtlLnNpemUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyKCdzbmFrZScsICdTbmFrZSBiaXQgaXRzZWxmIScpOwogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZ2FtZUxvb3ApOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gRHJhdyBldmVyeXRoaW5nCiAgICAgICAgICAgIHRoaXMuZHJhd1NuYWtlR2FtZShjdHgsIGNhbnZhcywgc25ha2UpOwogICAgICAgIH0sIDE1MCk7CgogICAgICAgIHRoaXMuY3VycmVudEdhbWVMb29wID0gZ2FtZUxvb3A7CiAgICB9CgogICAgZ2VuZXJhdGVGb29kKGNhbnZhcykgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChjYW52YXMud2lkdGggLyAyMCkpICogMjAsCiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChjYW52YXMuaGVpZ2h0IC8gMjApKSAqIDIwCiAgICAgICAgfTsKICAgIH0KCiAgICBkcmF3U25ha2VHYW1lKGN0eCwgY2FudmFzLCBzbmFrZSkgewogICAgICAgIC8vIENsZWFyIGNhbnZhcwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7CiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CgogICAgICAgIC8vIERyYXcgc25ha2UKICAgICAgICBzbmFrZS5ib2R5LmZvckVhY2goKHNlZ21lbnQsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBpbmRleCA9PT0gMCA/ICcjMDBmZjg4JyA6ICcjMDBkNGZmJzsKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNlZ21lbnQueCwgc2VnbWVudC55LCBzbmFrZS5zaXplIC0gMiwgc25ha2Uuc2l6ZSAtIDIpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQWRkIGdsb3cgZWZmZWN0CiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGluZGV4ID09PSAwID8gJyMwMGZmODgnIDogJyMwMGQ0ZmYnOwogICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwOwogICAgICAgIH0pOwoKICAgICAgICAvLyBEcmF3IGZvb2QKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZjZiOWQnOwogICAgICAgIGN0eC5zaGFkb3dDb2xvciA9ICcjZmY2YjlkJzsKICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDE1OwogICAgICAgIGN0eC5maWxsUmVjdChzbmFrZS5mb29kLngsIHNuYWtlLmZvb2QueSwgc25ha2Uuc2l6ZSAtIDIsIHNuYWtlLnNpemUgLSAyKTsKCiAgICAgICAgLy8gUmVzZXQgc2hhZG93CiAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAwOwoKICAgICAgICAvLyBEcmF3IHNjb3JlIHdpdGggcmVkdWNlZCB0ZXh0IHNpemUKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmZmZmYnOwogICAgICAgIGN0eC5mb250ID0gJ2JvbGQgMTJweCBPcmJpdHJvbic7CiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICBjdHguZmlsbFRleHQoYFNjb3JlOiAke3RoaXMuc2NvcmVzLnNuYWtlfWAsIDIwLCAyMCk7CiAgICAgICAgCiAgICAgICAgLy8gRHJhdyBpbnN0cnVjdGlvbnMgd2l0aCByZWR1Y2VkIHRleHQgc2l6ZQogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2NjY2NjYyc7CiAgICAgICAgY3R4LmZvbnQgPSAnOHB4IEV4byAyJzsKICAgICAgICBjdHguZmlsbFRleHQoJ1VzZSBhcnJvdyBrZXlzIHRvIG1vdmUnLCAyMCwgMzUpOwogICAgfQoKICAgIC8vIEVuaGFuY2VkIE1lbW9yeSBHYW1lIHdpdGggR2FtZSBPdmVyIFByb21wdAogICAgaW5pdE1lbW9yeUdhbWUoY3R4LCBjYW52YXMpIHsKICAgICAgICBjb25zdCBjYXJkcyA9IHRoaXMuZ2VuZXJhdGVNZW1vcnlDYXJkcygpOwogICAgICAgIGxldCBmbGlwcGVkQ2FyZHMgPSBbXTsKICAgICAgICBsZXQgbWF0Y2hlZFBhaXJzID0gMDsKICAgICAgICBsZXQgY2FuRmxpcCA9IHRydWU7CiAgICAgICAgbGV0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7CgogICAgICAgIGNvbnN0IGRyYXdNZW1vcnlHYW1lID0gKCkgPT4gewogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAnOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKCiAgICAgICAgICAgIC8vIERyYXcgZ3JpZCBvZiBjYXJkcwogICAgICAgICAgICBjYXJkcy5mb3JFYWNoKChjYXJkLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihpbmRleCAvIDQpOwogICAgICAgICAgICAgICAgY29uc3QgY29sID0gaW5kZXggJSA0OwogICAgICAgICAgICAgICAgY29uc3QgeCA9IGNvbCAqIDEwMCArIDIwMDsKICAgICAgICAgICAgICAgIGNvbnN0IHkgPSByb3cgKiAxMDAgKyAxMDA7CgogICAgICAgICAgICAgICAgaWYgKGNhcmQuaXNGbGlwcGVkIHx8IGNhcmQuaXNNYXRjaGVkKSB7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNhcmQuaXNNYXRjaGVkID8gJyMwMGZmODgnIDogJyMwMGQ0ZmYnOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCA4MCwgODApOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnNDBweCBBcmlhbCc7CiAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChjYXJkLnN5bWJvbCwgeCArIDQwLCB5ICsgNTUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZjZiOWQnOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCA4MCwgODApOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZic7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnMjBweCBBcmlhbCc7CiAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnPycsIHggKyA0MCwgeSArIDUwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBEcmF3IHNjb3JlIHdpdGggcmVkdWNlZCB0ZXh0IHNpemUKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJzsKICAgICAgICAgICAgY3R4LmZvbnQgPSAnYm9sZCAxMnB4IE9yYml0cm9uJzsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGBQYWlyczogJHttYXRjaGVkUGFpcnN9LzhgLCAyMCwgMjApOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRHJhdyB0aW1lIHdpdGggcmVkdWNlZCB0ZXh0IHNpemUKICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCk7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dChgVGltZTogJHtlbGFwc2VkfXNgLCAyMCwgMzUpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRHJhdyBpbnN0cnVjdGlvbnMgd2l0aCByZWR1Y2VkIHRleHQgc2l6ZQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNjY2NjY2MnOwogICAgICAgICAgICBjdHguZm9udCA9ICc4cHggRXhvIDInOwogICAgICAgICAgICBjdHguZmlsbFRleHQoJ0NsaWNrIGNhcmRzIHRvIG1hdGNoIHBhaXJzJywgMjAsIDUwKTsKICAgICAgICB9OwoKICAgICAgICAvLyBIYW5kbGUgY2FyZCBjbGlja3MKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgICAgICBpZiAoIWNhbkZsaXApIHJldHVybjsKCiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIGNvbnN0IHggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7CiAgICAgICAgICAgIGNvbnN0IHkgPSBlLmNsaWVudFkgLSByZWN0LnRvcDsKCiAgICAgICAgICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoKHggLSAyMDApIC8gMTAwKTsKICAgICAgICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcigoeSAtIDEwMCkgLyAxMDApOwogICAgICAgICAgICBjb25zdCBpbmRleCA9IHJvdyAqIDQgKyBjb2w7CgogICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IGNhcmRzLmxlbmd0aCAmJiAhY2FyZHNbaW5kZXhdLmlzRmxpcHBlZCAmJiAhY2FyZHNbaW5kZXhdLmlzTWF0Y2hlZCkgewogICAgICAgICAgICAgICAgY2FyZHNbaW5kZXhdLmlzRmxpcHBlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBmbGlwcGVkQ2FyZHMucHVzaChpbmRleCk7CiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kcy5jbGljaygpOwoKICAgICAgICAgICAgICAgIGlmIChmbGlwcGVkQ2FyZHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FuRmxpcCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FyZHNbZmxpcHBlZENhcmRzWzBdXS5zeW1ib2wgPT09IGNhcmRzW2ZsaXBwZWRDYXJkc1sxXV0uc3ltYm9sKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkc1tmbGlwcGVkQ2FyZHNbMF1dLmlzTWF0Y2hlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkc1tmbGlwcGVkQ2FyZHNbMV1dLmlzTWF0Y2hlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkUGFpcnMrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzLnN1Y2Nlc3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRQYWlycyA9PT0gOCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVGltZSA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29yZXMubWVtb3J5ID0gZmluYWxUaW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2NvcmUoJ21lbW9yeScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoJ21lbW9yeScsICdBbGwgcGFpcnMgbWF0Y2hlZCEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRzW2ZsaXBwZWRDYXJkc1swXV0uaXNGbGlwcGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkc1tmbGlwcGVkQ2FyZHNbMV1dLmlzRmxpcHBlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZHMuZXJyb3IoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBmbGlwcGVkQ2FyZHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgY2FuRmxpcCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgLy8gU3RhcnQgZHJhd2luZyBsb29wCiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gJ3BsYXlpbmcnKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGdhbWVMb29wKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBkcmF3TWVtb3J5R2FtZSgpOwogICAgICAgIH0sIDEwMCk7CgogICAgICAgIHRoaXMuY3VycmVudEdhbWVMb29wID0gZ2FtZUxvb3A7CiAgICB9CgogICAgZ2VuZXJhdGVNZW1vcnlDYXJkcygpIHsKICAgICAgICBjb25zdCBzeW1ib2xzID0gWyfwn5CNJywgJ/Cfp6AnLCAn8J+UoicsICfwn46oJywgJ+KtkCcsICfwn4yfJywgJ++/ve+/vScsICfwn5SlJ107CiAgICAgICAgY29uc3QgY2FyZHMgPSBbLi4uc3ltYm9scywgLi4uc3ltYm9sc107CiAgICAgICAgCiAgICAgICAgLy8gU2h1ZmZsZSBjYXJkcwogICAgICAgIGZvciAobGV0IGkgPSBjYXJkcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7CiAgICAgICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTsKICAgICAgICAgICAgW2NhcmRzW2ldLCBjYXJkc1tqXV0gPSBbY2FyZHNbal0sIGNhcmRzW2ldXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjYXJkcy5tYXAoc3ltYm9sID0+ICh7CiAgICAgICAgICAgIHN5bWJvbCwKICAgICAgICAgICAgaXNGbGlwcGVkOiBmYWxzZSwKICAgICAgICAgICAgaXNNYXRjaGVkOiBmYWxzZQogICAgICAgIH0pKTsKICAgIH0KCiAgICAvLyBFbmhhbmNlZCBNYXRoIEdhbWUgd2l0aCBHYW1lIE92ZXIgUHJvbXB0CiAgICBpbml0TWF0aEdhbWUoY3R4LCBjYW52YXMpIHsKICAgICAgICBsZXQgY3VycmVudFByb2JsZW0gPSB0aGlzLmdlbmVyYXRlTWF0aFByb2JsZW0oKTsKICAgICAgICBsZXQgdXNlckFuc3dlciA9ICcnOwogICAgICAgIGxldCB0aW1lTGVmdCA9IDMwOwogICAgICAgIGxldCBsZXZlbCA9IDE7CgogICAgICAgIGNvbnN0IGRyYXdNYXRoR2FtZSA9ICgpID0+IHsKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwJzsKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CgogICAgICAgICAgICAvLyBEcmF3IHByb2JsZW0KICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJzsKICAgICAgICAgICAgY3R4LmZvbnQgPSAnNDhweCBPcmJpdHJvbic7CiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGN1cnJlbnRQcm9ibGVtLnF1ZXN0aW9uLCBjYW52YXMud2lkdGggLyAyLCAyMDApOwoKICAgICAgICAgICAgLy8gRHJhdyBhbnN3ZXIgaW5wdXQKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDBmZjg4JzsKICAgICAgICAgICAgY3R4LmZvbnQgPSAnMzZweCBPcmJpdHJvbic7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dChgQW5zd2VyOiAke3VzZXJBbnN3ZXJ9YCwgY2FudmFzLndpZHRoIC8gMiwgMzAwKTsKCiAgICAgICAgICAgIC8vIERyYXcgdGltZSBhbmQgbGV2ZWwgd2l0aCByZWR1Y2VkIHRleHQgc2l6ZQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZjZiOWQnOwogICAgICAgICAgICBjdHguZm9udCA9ICdib2xkIDEycHggT3JiaXRyb24nOwogICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2xlZnQnOwogICAgICAgICAgICBjdHguZmlsbFRleHQoYFRpbWU6ICR7dGltZUxlZnR9c2AsIDIwLCAyMCk7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dChgTGV2ZWw6ICR7bGV2ZWx9YCwgMjAsIDM1KTsKCiAgICAgICAgICAgIC8vIERyYXcgaW5zdHJ1Y3Rpb25zIHdpdGggcmVkdWNlZCB0ZXh0IHNpemUKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjY2NjY2NjJzsKICAgICAgICAgICAgY3R4LmZvbnQgPSAnOXB4IEV4byAyJzsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgICBjdHguZmlsbFRleHQoJ1R5cGUgeW91ciBhbnN3ZXIgYW5kIHByZXNzIEVudGVyJywgY2FudmFzLndpZHRoIC8gMiwgNTAwKTsKICAgICAgICB9OwoKICAgICAgICAvLyBIYW5kbGUga2V5Ym9hcmQgaW5wdXQKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICAgICAgaWYgKGUua2V5ID49ICcwJyAmJiBlLmtleSA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHVzZXJBbnN3ZXIgKz0gZS5rZXk7CiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kcy5jbGljaygpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnQmFja3NwYWNlJykgewogICAgICAgICAgICAgICAgdXNlckFuc3dlciA9IHVzZXJBbnN3ZXIuc2xpY2UoMCwgLTEpOwogICAgICAgICAgICAgICAgdGhpcy5zb3VuZHMuY2xpY2soKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VudGVyJykgewogICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHVzZXJBbnN3ZXIpID09PSBjdXJyZW50UHJvYmxlbS5hbnN3ZXIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3Jlcy5tYXRoICs9IDEwOwogICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2NvcmUoJ21hdGgnKTsKICAgICAgICAgICAgICAgICAgICBsZXZlbCsrOwogICAgICAgICAgICAgICAgICAgIHRpbWVMZWZ0ICs9IDEwOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9ibGVtID0gdGhpcy5nZW5lcmF0ZU1hdGhQcm9ibGVtKGxldmVsKTsKICAgICAgICAgICAgICAgICAgICB1c2VyQW5zd2VyID0gJyc7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZHMuc3VjY2VzcygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kcy5lcnJvcigpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoJ21hdGgnLCAnV3JvbmcgYW5zd2VyIScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vIFRpbWVyIGNvdW50ZG93bgogICAgICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09ICdwbGF5aW5nJykgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGltZUxlZnQtLTsKICAgICAgICAgICAgaWYgKHRpbWVMZWZ0IDw9IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoJ21hdGgnLCAnVGltZSByYW4gb3V0IScpOwogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgLy8gU3RhcnQgZHJhd2luZyBsb29wCiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gJ3BsYXlpbmcnKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGdhbWVMb29wKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBkcmF3TWF0aEdhbWUoKTsKICAgICAgICB9LCAxMDApOwoKICAgICAgICB0aGlzLmN1cnJlbnRHYW1lTG9vcCA9IGdhbWVMb29wOwogICAgfQoKICAgIGdlbmVyYXRlTWF0aFByb2JsZW0obGV2ZWwgPSAxKSB7CiAgICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IFsnKycsICctJywgJyonXTsKICAgICAgICBjb25zdCBvcCA9IG9wZXJhdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogb3BlcmF0aW9ucy5sZW5ndGgpXTsKICAgICAgICBsZXQgYSwgYiwgYW5zd2VyOwoKICAgICAgICBzd2l0Y2gob3ApIHsKICAgICAgICAgICAgY2FzZSAnKyc6CiAgICAgICAgICAgICAgICBhID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwICogbGV2ZWwpKSArIDE7CiAgICAgICAgICAgICAgICBiID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwICogbGV2ZWwpKSArIDE7CiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBhICsgYjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICctJzoKICAgICAgICAgICAgICAgIGEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTAgKiBsZXZlbCkpICsgMTsKICAgICAgICAgICAgICAgIGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhKSArIDE7CiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBhIC0gYjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICcqJzoKICAgICAgICAgICAgICAgIGEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoNSAqIGxldmVsKSkgKyAxOwogICAgICAgICAgICAgICAgYiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg1ICogbGV2ZWwpKSArIDE7CiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBhICogYjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcXVlc3Rpb246IGAke2F9ICR7b3B9ICR7Yn0gPSA/YCwKICAgICAgICAgICAgYW5zd2VyOiBhbnN3ZXIKICAgICAgICB9OwogICAgfQoKICAgIC8vIEVuaGFuY2VkIENvbG9yIEdhbWUgd2l0aCBHYW1lIE92ZXIgUHJvbXB0CiAgICBpbml0Q29sb3JHYW1lKGN0eCwgY2FudmFzKSB7CiAgICAgICAgY29uc3QgY29sb3JzID0gWycjZmY2YjlkJywgJyMwMGZmODgnLCAnIzAwZDRmZicsICcjZmZkNzAwJywgJyNmZjQ1MDAnXTsKICAgICAgICBsZXQgY3VycmVudENvbG9yID0gY29sb3JzWzBdOwogICAgICAgIGxldCB0YXJnZXRDb2xvciA9IGNvbG9yc1swXTsKICAgICAgICBsZXQgc2NvcmUgPSAwOwogICAgICAgIGxldCB0aW1lTGVmdCA9IDYwOwoKICAgICAgICBjb25zdCBkcmF3Q29sb3JHYW1lID0gKCkgPT4gewogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAnOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKCiAgICAgICAgICAgIC8vIERyYXcgdGFyZ2V0IGNvbG9yCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0YXJnZXRDb2xvcjsKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDEwMCwgMTAwLCAyMDAsIDIwMCk7CiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZmZmJzsKICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDU7CiAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KDEwMCwgMTAwLCAyMDAsIDIwMCk7CgogICAgICAgICAgICAvLyBEcmF3IGNvbG9yIG9wdGlvbnMKICAgICAgICAgICAgY29sb3JzLmZvckVhY2goKGNvbG9yLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgeCA9IDQwMCArIChpbmRleCAqIDgwKTsKICAgICAgICAgICAgICAgIGNvbnN0IHkgPSAxNTA7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7CiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgNjAsIDYwKTsKICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yID09PSBjdXJyZW50Q29sb3IgPyAnIzAwZmY4OCcgOiAnI2ZmZic7CiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gY29sb3IgPT09IGN1cnJlbnRDb2xvciA/IDUgOiAyOwogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3QoeCwgeSwgNjAsIDYwKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBEcmF3IHNjb3JlIGFuZCB0aW1lIHdpdGggcmVkdWNlZCB0ZXh0IHNpemUKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJzsKICAgICAgICAgICAgY3R4LmZvbnQgPSAnYm9sZCAxMnB4IE9yYml0cm9uJzsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGBTY29yZTogJHtzY29yZX1gLCAyMCwgMjApOwogICAgICAgICAgICBjdHguZmlsbFRleHQoYFRpbWU6ICR7dGltZUxlZnR9c2AsIDIwLCAzNSk7CgogICAgICAgICAgICAvLyBEcmF3IGluc3RydWN0aW9ucyB3aXRoIHJlZHVjZWQgdGV4dCBzaXplCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2NjY2NjYyc7CiAgICAgICAgICAgIGN0eC5mb250ID0gJzlweCBFeG8gMic7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnQ2xpY2sgdGhlIG1hdGNoaW5nIGNvbG9yIScsIDEwMCwgMzUwKTsKICAgICAgICB9OwoKICAgICAgICAvLyBIYW5kbGUgY29sb3Igc2VsZWN0aW9uCiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKICAgICAgICAgICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgY29uc3QgeCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdDsKICAgICAgICAgICAgY29uc3QgeSA9IGUuY2xpZW50WSAtIHJlY3QudG9wOwoKICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2xpY2tlZCBvbiBjb2xvciBvcHRpb24KICAgICAgICAgICAgaWYgKHkgPj0gMTUwICYmIHkgPD0gMjEwKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbG9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yWCA9IDQwMCArIChpICogODApOwogICAgICAgICAgICAgICAgICAgIGlmICh4ID49IGNvbG9yWCAmJiB4IDw9IGNvbG9yWCArIDYwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcnNbaV0gPT09IHRhcmdldENvbG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSArPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVzLmNvbG9yID0gc2NvcmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKCdjb2xvcicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29sb3IgPSBjb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sb3JzLmxlbmd0aCldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZHMuc3VjY2VzcygpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZHMuZXJyb3IoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoJ2NvbG9yJywgJ1dyb25nIGNvbG9yIScpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAvLyBUaW1lciBjb3VudGRvd24KICAgICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlICE9PSAncGxheWluZycpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRpbWVMZWZ0LS07CiAgICAgICAgICAgIGlmICh0aW1lTGVmdCA8PSAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyKCdjb2xvcicsICdUaW1lIHJhbiBvdXQhJyk7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwoKICAgICAgICAvLyBTdGFydCBkcmF3aW5nIGxvb3AKICAgICAgICBjb25zdCBnYW1lTG9vcCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlICE9PSAncGxheWluZycpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZ2FtZUxvb3ApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRyYXdDb2xvckdhbWUoKTsKICAgICAgICB9LCAxMDApOwoKICAgICAgICB0aGlzLmN1cnJlbnRHYW1lTG9vcCA9IGdhbWVMb29wOwogICAgfQoKICAgIC8vIEZpeGVkIFRldHJpcyBHYW1lIHdpdGggV29ya2luZyBDb250cm9scyBhbmQgRmFzdGVyIERyb3AgU3BlZWQKICAgIGluaXRUZXRyaXNHYW1lKGN0eCwgY2FudmFzKSB7CiAgICAgICAgY29uc3QgYm9hcmQgPSBBcnJheSgyMCkuZmlsbCgpLm1hcCgoKSA9PiBBcnJheSgxMCkuZmlsbCgwKSk7CiAgICAgICAgbGV0IGN1cnJlbnRQaWVjZSA9IHRoaXMuZ2V0UmFuZG9tUGllY2UoKTsKICAgICAgICBsZXQgcGllY2VYID0gMzsKICAgICAgICBsZXQgcGllY2VZID0gMDsKICAgICAgICBsZXQgbGluZXMgPSAwOwogICAgICAgIGxldCBkcm9wVGltZSA9IDA7CiAgICAgICAgbGV0IGdhbWVBY3RpdmUgPSB0cnVlOwoKICAgICAgICAvLyBTdG9yZSB0ZXRyaXMgZ2FtZSBzdGF0ZSBmb3Iga2V5Ym9hcmQgY29udHJvbHMKICAgICAgICB0aGlzLnRldHJpc0dhbWUgPSB7IGJvYXJkLCBjdXJyZW50UGllY2UsIHBpZWNlWCwgcGllY2VZLCBsaW5lcywgZHJvcFRpbWUsIGdhbWVBY3RpdmUgfTsKCiAgICAgICAgY29uc3QgZHJhd1RldHJpc0dhbWUgPSAoKSA9PiB7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7CiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwoKICAgICAgICAgICAgLy8gRHJhdyBib2FyZAogICAgICAgICAgICBib2FyZC5mb3JFYWNoKChyb3csIHkpID0+IHsKICAgICAgICAgICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCB4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDBmZjg4JzsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHggKiAzMCArIDI1MCwgeSAqIDMwICsgNTAsIDI4LCAyOCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gRHJhdyBjdXJyZW50IHBpZWNlCiAgICAgICAgICAgIGN1cnJlbnRQaWVjZS5mb3JFYWNoKChyb3csIHkpID0+IHsKICAgICAgICAgICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCB4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmY2YjlkJzsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KChwaWVjZVggKyB4KSAqIDMwICsgMjUwLCAocGllY2VZICsgeSkgKiAzMCArIDUwLCAyOCwgMjgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIERyYXcgc2NvcmUgYW5kIGxpbmVzIHdpdGggcmVkdWNlZCB0ZXh0IHNpemUKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJzsKICAgICAgICAgICAgY3R4LmZvbnQgPSAnYm9sZCAxMnB4IE9yYml0cm9uJzsKICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGBMaW5lczogJHtsaW5lc31gLCAyMCwgMjApOwogICAgICAgICAgICBjdHguZmlsbFRleHQoYFNjb3JlOiAke3RoaXMuc2NvcmVzLnRldHJpc31gLCAyMCwgMzUpOwoKICAgICAgICAgICAgLy8gRHJhdyBpbnN0cnVjdGlvbnMgd2l0aCByZWR1Y2VkIHRleHQgc2l6ZQogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNjY2NjY2MnOwogICAgICAgICAgICBjdHguZm9udCA9ICc4cHggRXhvIDInOwogICAgICAgICAgICBjdHguZmlsbFRleHQoJ0Fycm93IGtleXMgdG8gbW92ZScsIDIwLCA1MCk7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnU3BhY2UgdG8gcm90YXRlJywgMjAsIDY1KTsKICAgICAgICB9OwoKICAgICAgICAvLyBHYW1lIGxvb3Agd2l0aCBmYXN0ZXIgZHJvcCBzcGVlZCAoMC41eCBmYXN0ZXIpCiAgICAgICAgY29uc3QgZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gJ3BsYXlpbmcnIHx8ICFnYW1lQWN0aXZlKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGdhbWVMb29wKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZHJvcFRpbWUrKzsKICAgICAgICAgICAgaWYgKGRyb3BUaW1lID4gMjApIHsgLy8gQ2hhbmdlZCBmcm9tIDMwIHRvIDIwIGZvciBmYXN0ZXIgZHJvcAogICAgICAgICAgICAgICAgcGllY2VZKys7CiAgICAgICAgICAgICAgICBkcm9wVGltZSA9IDA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVGV0cmlzQ29sbGlzaW9uKCkpIHsKICAgICAgICAgICAgICAgICAgICBwaWVjZVktLTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlVGV0cmlzUGllY2UoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGV0cmlzTGluZXMoKTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGllY2UgPSB0aGlzLmdldFJhbmRvbVBpZWNlKCk7CiAgICAgICAgICAgICAgICAgICAgcGllY2VYID0gMzsKICAgICAgICAgICAgICAgICAgICBwaWVjZVkgPSAwOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVGV0cmlzQ29sbGlzaW9uKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyKCd0ZXRyaXMnLCAnQm9hcmQgaXMgZnVsbCEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChnYW1lTG9vcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdG9yZWQgZ2FtZSBzdGF0ZQogICAgICAgICAgICB0aGlzLnRldHJpc0dhbWUgPSB7IGJvYXJkLCBjdXJyZW50UGllY2UsIHBpZWNlWCwgcGllY2VZLCBsaW5lcywgZHJvcFRpbWUsIGdhbWVBY3RpdmUgfTsKCiAgICAgICAgICAgIGRyYXdUZXRyaXNHYW1lKCk7CiAgICAgICAgfSwgMTAwKTsKCiAgICAgICAgdGhpcy5jdXJyZW50R2FtZUxvb3AgPSBnYW1lTG9vcDsKICAgIH0KCiAgICBnZXRSYW5kb21QaWVjZSgpIHsKICAgICAgICBjb25zdCBwaWVjZXMgPSBbCiAgICAgICAgICAgIFtbMSwgMSwgMSwgMV1dLCAvLyBJCiAgICAgICAgICAgIFtbMSwgMV0sIFsxLCAxXV0sIC8vIE8KICAgICAgICAgICAgW1sxLCAxLCAxXSwgWzAsIDEsIDBdXSwgLy8gVAogICAgICAgICAgICBbWzEsIDEsIDFdLCBbMSwgMCwgMF1dLCAvLyBMCiAgICAgICAgICAgIFtbMSwgMSwgMV0sIFswLCAwLCAxXV0sIC8vIEoKICAgICAgICAgICAgW1sxLCAxLCAwXSwgWzAsIDEsIDFdXSwgLy8gUwogICAgICAgICAgICBbWzAsIDEsIDFdLCBbMSwgMSwgMF1dICAvLyBaCiAgICAgICAgXTsKICAgICAgICByZXR1cm4gcGllY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBpZWNlcy5sZW5ndGgpXTsKICAgIH0KCiAgICBjaGVja1RldHJpc0NvbGxpc2lvbigpIHsKICAgICAgICBpZiAoIXRoaXMudGV0cmlzR2FtZSkgcmV0dXJuIGZhbHNlOwogICAgICAgIAogICAgICAgIGNvbnN0IHsgYm9hcmQsIGN1cnJlbnRQaWVjZSwgcGllY2VYLCBwaWVjZVkgfSA9IHRoaXMudGV0cmlzR2FtZTsKICAgICAgICAKICAgICAgICByZXR1cm4gY3VycmVudFBpZWNlLnNvbWUoKHJvdywgeSkgPT4gewogICAgICAgICAgICByZXR1cm4gcm93LnNvbWUoKGNlbGwsIHgpID0+IHsKICAgICAgICAgICAgICAgIGlmIChjZWxsKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3WCA9IHBpZWNlWCArIHg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3WSA9IHBpZWNlWSArIHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1ggPCAwIHx8IG5ld1ggPj0gMTAgfHwgbmV3WSA+PSAyMCB8fCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5ld1kgPj0gMCAmJiBib2FyZFtuZXdZXVtuZXdYXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQoKICAgIHBsYWNlVGV0cmlzUGllY2UoKSB7CiAgICAgICAgaWYgKCF0aGlzLnRldHJpc0dhbWUpIHJldHVybjsKICAgICAgICAKICAgICAgICBjb25zdCB7IGJvYXJkLCBjdXJyZW50UGllY2UsIHBpZWNlWCwgcGllY2VZIH0gPSB0aGlzLnRldHJpc0dhbWU7CiAgICAgICAgCiAgICAgICAgY3VycmVudFBpZWNlLmZvckVhY2goKHJvdywgeSkgPT4gewogICAgICAgICAgICByb3cuZm9yRWFjaCgoY2VsbCwgeCkgPT4gewogICAgICAgICAgICAgICAgaWYgKGNlbGwpIHsKICAgICAgICAgICAgICAgICAgICBib2FyZFtwaWVjZVkgKyB5XVtwaWVjZVggKyB4XSA9IDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQoKICAgIGNsZWFyVGV0cmlzTGluZXMoKSB7CiAgICAgICAgaWYgKCF0aGlzLnRldHJpc0dhbWUpIHJldHVybjsKICAgICAgICAKICAgICAgICBjb25zdCB7IGJvYXJkIH0gPSB0aGlzLnRldHJpc0dhbWU7CiAgICAgICAgCiAgICAgICAgZm9yIChsZXQgeSA9IGJvYXJkLmxlbmd0aCAtIDE7IHkgPj0gMDsgeS0tKSB7CiAgICAgICAgICAgIGlmIChib2FyZFt5XS5ldmVyeShjZWxsID0+IGNlbGwpKSB7CiAgICAgICAgICAgICAgICBib2FyZC5zcGxpY2UoeSwgMSk7CiAgICAgICAgICAgICAgICBib2FyZC51bnNoaWZ0KEFycmF5KDEwKS5maWxsKDApKTsKICAgICAgICAgICAgICAgIHRoaXMudGV0cmlzR2FtZS5saW5lcysrOwogICAgICAgICAgICAgICAgdGhpcy5zY29yZXMudGV0cmlzID0gdGhpcy50ZXRyaXNHYW1lLmxpbmVzICogMTA7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKCd0ZXRyaXMnKTsKICAgICAgICAgICAgICAgIHRoaXMuc291bmRzLnN1Y2Nlc3MoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBFbmhhbmNlZCBGbGFwcHkgQmlyZCBHYW1lIHdpdGggR2FtZSBPdmVyIFByb21wdAogICAgaW5pdEZsYXBweUdhbWUoY3R4LCBjYW52YXMpIHsKICAgICAgICBjb25zdCBiaXJkID0geyB4OiAxMDAsIHk6IGNhbnZhcy5oZWlnaHQgLyAyLCB2ZWxvY2l0eTogMCwgc2l6ZTogMjAgfTsKICAgICAgICBjb25zdCBwaXBlcyA9IFtdOwogICAgICAgIGxldCBzY29yZSA9IDA7CiAgICAgICAgbGV0IGZyYW1lID0gMDsKICAgICAgICBsZXQgZ2FtZUFjdGl2ZSA9IHRydWU7CgogICAgICAgIGNvbnN0IGRyYXdGbGFwcHlHYW1lID0gKCkgPT4gewogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAnOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKCiAgICAgICAgICAgIC8vIERyYXcgYmlyZAogICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmQ3MDAnOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoYmlyZC54LCBiaXJkLnksIGJpcmQuc2l6ZSwgYmlyZC5zaXplKTsKCiAgICAgICAgICAgIC8vIERyYXcgcGlwZXMKICAgICAgICAgICAgcGlwZXMuZm9yRWFjaChwaXBlID0+IHsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwZmY4OCc7CiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QocGlwZS54LCAwLCBwaXBlLndpZHRoLCBwaXBlLnRvcEhlaWdodCk7CiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QocGlwZS54LCBwaXBlLnRvcEhlaWdodCArIHBpcGUuZ2FwLCBwaXBlLndpZHRoLCBjYW52YXMuaGVpZ2h0IC0gcGlwZS50b3BIZWlnaHQgLSBwaXBlLmdhcCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gRHJhdyBzY29yZSB3aXRoIHJlZHVjZWQgdGV4dCBzaXplCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7CiAgICAgICAgICAgIGN0eC5mb250ID0gJ2JvbGQgMTJweCBPcmJpdHJvbic7CiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7CiAgICAgICAgICAgIGN0eC5maWxsVGV4dChgU2NvcmU6ICR7c2NvcmV9YCwgMjAsIDIwKTsKCiAgICAgICAgICAgIC8vIERyYXcgaW5zdHJ1Y3Rpb25zIHdpdGggcmVkdWNlZCB0ZXh0IHNpemUKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjY2NjY2NjJzsKICAgICAgICAgICAgY3R4LmZvbnQgPSAnOHB4IEV4byAyJzsKICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCdDbGljayBvciBwcmVzcyBTcGFjZSB0byBmbGFwJywgMjAsIDM1KTsKICAgICAgICB9OwoKICAgICAgICAvLyBHYW1lIGxvb3AKICAgICAgICBjb25zdCBnYW1lTG9vcCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlICE9PSAncGxheWluZycgfHwgIWdhbWVBY3RpdmUpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZ2FtZUxvb3ApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmcmFtZSsrOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQmlyZCBwaHlzaWNzCiAgICAgICAgICAgIGJpcmQudmVsb2NpdHkgKz0gMC41OwogICAgICAgICAgICBiaXJkLnkgKz0gYmlyZC52ZWxvY2l0eTsKCiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHBpcGVzCiAgICAgICAgICAgIGlmIChmcmFtZSAlIDE1MCA9PT0gMCkgewogICAgICAgICAgICAgICAgY29uc3QgZ2FwID0gMTUwOwogICAgICAgICAgICAgICAgY29uc3QgdG9wSGVpZ2h0ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXMuaGVpZ2h0IC0gZ2FwIC0gMTAwKSArIDUwOwogICAgICAgICAgICAgICAgcGlwZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgeDogY2FudmFzLndpZHRoLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA1MCwKICAgICAgICAgICAgICAgICAgICB0b3BIZWlnaHQ6IHRvcEhlaWdodCwKICAgICAgICAgICAgICAgICAgICBnYXA6IGdhcAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE1vdmUgcGlwZXMKICAgICAgICAgICAgcGlwZXMuZm9yRWFjaChwaXBlID0+IHsKICAgICAgICAgICAgICAgIHBpcGUueCAtPSAyOwogICAgICAgICAgICAgICAgaWYgKHBpcGUueCArIHBpcGUud2lkdGggPCBiaXJkLnggJiYgIXBpcGUucGFzc2VkKSB7CiAgICAgICAgICAgICAgICAgICAgcGlwZS5wYXNzZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHNjb3JlKys7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29yZXMuZmxhcHB5ID0gc2NvcmU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTY29yZSgnZmxhcHB5Jyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZHMuc3VjY2VzcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFJlbW92ZSBvZmYtc2NyZWVuIHBpcGVzCiAgICAgICAgICAgIHBpcGVzLnNwbGljZSgwLCBwaXBlcy5maWx0ZXIocGlwZSA9PiBwaXBlLnggKyBwaXBlLndpZHRoIDwgMCkubGVuZ3RoKTsKCiAgICAgICAgICAgIC8vIENvbGxpc2lvbiBkZXRlY3Rpb24KICAgICAgICAgICAgaWYgKGJpcmQueSA8IDAgfHwgYmlyZC55ICsgYmlyZC5zaXplID4gY2FudmFzLmhlaWdodCkgewogICAgICAgICAgICAgICAgZ2FtZUFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcignZmxhcHB5JywgJ0JpcmQgaGl0IHRoZSBncm91bmQhJyk7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGdhbWVMb29wKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcGlwZXMuZm9yRWFjaChwaXBlID0+IHsKICAgICAgICAgICAgICAgIGlmIChiaXJkLnggPCBwaXBlLnggKyBwaXBlLndpZHRoICYmIGJpcmQueCArIGJpcmQuc2l6ZSA+IHBpcGUueCAmJgogICAgICAgICAgICAgICAgICAgIChiaXJkLnkgPCBwaXBlLnRvcEhlaWdodCB8fCBiaXJkLnkgKyBiaXJkLnNpemUgPiBwaXBlLnRvcEhlaWdodCArIHBpcGUuZ2FwKSkgewogICAgICAgICAgICAgICAgICAgIGdhbWVBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyKCdmbGFwcHknLCAnQmlyZCBoaXQgYSBwaXBlIScpOwogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZ2FtZUxvb3ApOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBkcmF3RmxhcHB5R2FtZSgpOwogICAgICAgIH0sIDEwMDAgLyA2MCk7CgogICAgICAgIHRoaXMuY3VycmVudEdhbWVMb29wID0gZ2FtZUxvb3A7CgogICAgICAgIC8vIENvbnRyb2xzCiAgICAgICAgY29uc3QgZmxhcCA9ICgpID0+IHsKICAgICAgICAgICAgaWYgKGdhbWVBY3RpdmUpIHsKICAgICAgICAgICAgICAgIGJpcmQudmVsb2NpdHkgPSAtODsKICAgICAgICAgICAgICAgIHRoaXMuc291bmRzLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmbGFwKTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJykgewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZmxhcCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgLy8gRW5oYW5jZWQgR2xvYmFsIEtleWJvYXJkIENvbnRyb2xzIGZvciBUZXRyaXMKICAgIGhhbmRsZUtleVByZXNzKGUpIHsKICAgICAgICBpZiAodGhpcy5jdXJyZW50R2FtZSA9PT0gJ3NuYWtlJykgewogICAgICAgICAgICBzd2l0Y2goZS5rZXkpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOgogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNuYWtlICYmIHRoaXMuc25ha2UuZHkgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFrZS5keCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2UuZHkgPSAtMjA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzoKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zbmFrZSAmJiB0aGlzLnNuYWtlLmR5ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2UuZHggPSAwOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlLmR5ID0gMjA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzoKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zbmFrZSAmJiB0aGlzLnNuYWtlLmR4ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2UuZHggPSAtMjA7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2UuZHkgPSAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOgogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNuYWtlICYmIHRoaXMuc25ha2UuZHggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFrZS5keCA9IDIwOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlLmR5ID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudEdhbWUgPT09ICd0ZXRyaXMnKSB7CiAgICAgICAgICAgIGlmICghdGhpcy50ZXRyaXNHYW1lKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBzd2l0Y2goZS5rZXkpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGV0cmlzR2FtZS5waWVjZVggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV0cmlzR2FtZS5waWVjZVgtLTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUZXRyaXNDb2xsaXNpb24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyaXNHYW1lLnBpZWNlWCsrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGV0cmlzR2FtZS5waWVjZVggPCAxMCAtIHRoaXMudGV0cmlzR2FtZS5jdXJyZW50UGllY2VbMF0ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV0cmlzR2FtZS5waWVjZVgrKzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUZXRyaXNDb2xsaXNpb24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyaXNHYW1lLnBpZWNlWC0tOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzoKICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJpc0dhbWUucGllY2VZKys7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUZXRyaXNDb2xsaXNpb24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJpc0dhbWUucGllY2VZLS07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnICc6CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlVGV0cmlzUGllY2UoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICByb3RhdGVUZXRyaXNQaWVjZSgpIHsKICAgICAgICBpZiAoIXRoaXMudGV0cmlzR2FtZSkgcmV0dXJuOwogICAgICAgIAogICAgICAgIGNvbnN0IHJvdGF0ZWQgPSB0aGlzLnRldHJpc0dhbWUuY3VycmVudFBpZWNlWzBdLm1hcCgoXywgaSkgPT4gCiAgICAgICAgICAgIHRoaXMudGV0cmlzR2FtZS5jdXJyZW50UGllY2UubWFwKHJvdyA9PiByb3dbaV0pLnJldmVyc2UoKQogICAgICAgICk7CiAgICAgICAgCiAgICAgICAgY29uc3Qgb3JpZ2luYWxQaWVjZSA9IHRoaXMudGV0cmlzR2FtZS5jdXJyZW50UGllY2U7CiAgICAgICAgdGhpcy50ZXRyaXNHYW1lLmN1cnJlbnRQaWVjZSA9IHJvdGF0ZWQ7CiAgICAgICAgCiAgICAgICAgaWYgKHRoaXMuY2hlY2tUZXRyaXNDb2xsaXNpb24oKSkgewogICAgICAgICAgICB0aGlzLnRldHJpc0dhbWUuY3VycmVudFBpZWNlID0gb3JpZ2luYWxQaWVjZTsKICAgICAgICB9CiAgICB9CgogICAgc3RhcnRHYW1lVGltZXIoKSB7CiAgICAgICAgdGhpcy5nYW1lVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSA9PT0gJ3BsYXlpbmcnKSB7CiAgICAgICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDApOwogICAgICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoZWxhcHNlZCAvIDYwKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBlbGFwc2VkICUgNjA7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZVRpbWVyJykudGV4dENvbnRlbnQgPSAKICAgICAgICAgICAgICAgICAgICBgVGltZTogJHttaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICAgICAgICB9CiAgICAgICAgfSwgMTAwMCk7CiAgICB9CgogICAgLy8gRW5oYW5jZWQgR2FtZSBPdmVyIHdpdGggUmVhc29uIERpc3BsYXkKICAgIGdhbWVPdmVyKGdhbWVUeXBlLCByZWFzb24gPSAnJykgewogICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gJ2dhbWVPdmVyJzsKICAgICAgICB0aGlzLmdhbWVPdmVyUmVhc29uID0gcmVhc29uOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5nYW1lVGltZXIpOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50R2FtZUxvb3ApOwoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheVRpdGxlJykudGV4dENvbnRlbnQgPSAnR2FtZSBPdmVyISc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXlNZXNzYWdlJykuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxNXB4OyI+CiAgICAgICAgICAgICAgICA8c3Ryb25nPlJlYXNvbjo8L3N0cm9uZz4gJHtyZWFzb24gfHwgJ0dhbWUgZW5kZWQnfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIFlvdXIgc2NvcmU6IDxzcGFuIGlkPSJvdmVybGF5U2NvcmUiPiR7dGhpcy5zY29yZXNbZ2FtZVR5cGVdfTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheVNjb3JlJykudGV4dENvbnRlbnQgPSB0aGlzLnNjb3Jlc1tnYW1lVHlwZV07CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVPdmVybGF5Jykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKCiAgICAgICAgdGhpcy5zb3VuZHMuZ2FtZU92ZXIoKTsKICAgICAgICB0aGlzLnNhdmVTY29yZXMoKTsKICAgIH0KCiAgICByZXN0YXJ0R2FtZSgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZU92ZXJsYXknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIHRoaXMuc3RhcnRHYW1lKHRoaXMuY3VycmVudEdhbWUpOwogICAgfQoKICAgIHNob3dNZW51KCkgewogICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gJ21lbnUnOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5nYW1lVGltZXIpOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50R2FtZUxvb3ApOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lQ2FudmFzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZU1lbnUnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZU92ZXJsYXknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIAogICAgICAgIHRoaXMudXBkYXRlU2NvcmVEaXNwbGF5cygpOwogICAgfQoKICAgIHBhdXNlR2FtZSgpIHsKICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUgPT09ICdwbGF5aW5nJykgewogICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9ICdwYXVzZWQnOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY3VycmVudEdhbWVMb29wKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2FtZVN0YXRlID09PSAncGF1c2VkJykgewogICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9ICdwbGF5aW5nJzsKICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplR2FtZSh0aGlzLmN1cnJlbnRHYW1lKTsKICAgICAgICB9CiAgICB9CgogICAgdG9nZ2xlU291bmQoKSB7CiAgICAgICAgdGhpcy5zb3VuZEVuYWJsZWQgPSAhdGhpcy5zb3VuZEVuYWJsZWQ7CiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kVG9nZ2xlJyk7CiAgICAgICAgYnRuLnRleHRDb250ZW50ID0gdGhpcy5zb3VuZEVuYWJsZWQgPyAn8J+UiicgOiAn8J+Uhyc7CiAgICB9CgogICAgdG9nZ2xlRnVsbHNjcmVlbigpIHsKICAgICAgICBpZiAoIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7CiAgICAgICAgfQogICAgfQoKICAgIHVwZGF0ZVNjb3JlKGdhbWVUeXBlKSB7CiAgICAgICAgdGhpcy5zY29yZXNbZ2FtZVR5cGVdID0gTWF0aC5tYXgodGhpcy5zY29yZXNbZ2FtZVR5cGVdLCB0aGlzLnNjb3Jlc1tnYW1lVHlwZV0pOwogICAgICAgIHRoaXMudXBkYXRlU2NvcmVEaXNwbGF5cygpOwogICAgfQoKICAgIHVwZGF0ZVNjb3JlRGlzcGxheXMoKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NuYWtlU2NvcmUnKS50ZXh0Q29udGVudCA9IHRoaXMuc2NvcmVzLnNuYWtlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW1vcnlUaW1lJykudGV4dENvbnRlbnQgPSB0aGlzLnNjb3Jlcy5tZW1vcnkgPiAwID8gYCR7dGhpcy5zY29yZXMubWVtb3J5fXNgIDogJy0tJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF0aExldmVsJykudGV4dENvbnRlbnQgPSBNYXRoLmZsb29yKHRoaXMuc2NvcmVzLm1hdGggLyAxMCkgKyAxOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvclNjb3JlJykudGV4dENvbnRlbnQgPSB0aGlzLnNjb3Jlcy5jb2xvcjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV0cmlzTGluZXMnKS50ZXh0Q29udGVudCA9IHRoaXMuc2NvcmVzLnRldHJpcyAvIDEwOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbGFwcHlTY29yZScpLnRleHRDb250ZW50ID0gdGhpcy5zY29yZXMuZmxhcHB5OwogICAgfQoKICAgIGxvYWRTY29yZXMoKSB7CiAgICAgICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmxlc3NlZFBsYXlob3VzZVNjb3JlcycpOwogICAgICAgIGlmIChzYXZlZCkgewogICAgICAgICAgICB0aGlzLnNjb3JlcyA9IHsgLi4udGhpcy5zY29yZXMsIC4uLkpTT04ucGFyc2Uoc2F2ZWQpIH07CiAgICAgICAgfQogICAgfQoKICAgIHNhdmVTY29yZXMoKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JsZXNzZWRQbGF5aG91c2VTY29yZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNjb3JlcykpOwogICAgfQp9CgovLyBJbml0aWFsaXplIHRoZSBnYW1lIHdoZW4gdGhlIHBhZ2UgbG9hZHMKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgIG5ldyBCbGVzc2VkUGxheWhvdXNlKCk7Cn0pOwo=",
  "/style.css": "data:text/css;base64,LyogTW9kZXJuIENTUyBSZXNldCBhbmQgQmFzZSBTdHlsZXMgKi8KKiB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKYm9keSB7CiAgICBmb250LWZhbWlseTogJ0V4byAyJywgc2Fucy1zZXJpZjsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICBtaW4taGVpZ2h0OiAxMDB2aDsKICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgIGNvbG9yOiAjZmZmZmZmOwp9CgovKiBHYW1lIENvbnRhaW5lciAqLwouZ2FtZS1jb250YWluZXIgewogICAgbWluLWhlaWdodDogMTAwdmg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi8qIEhlYWRlciBTdHlsZXMgKi8KLmdhbWUtaGVhZGVyIHsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC44KTsKICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTsKICAgIHBhZGRpbmc6IDFyZW0gMnJlbTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMwMGZmODg7CiAgICBib3gtc2hhZG93OiAwIDRweCAyMHB4IHJnYmEoMCwgMjU1LCAxMzYsIDAuMyk7Cn0KCi5sb2dvLWNvbnRhaW5lciB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5tYWluLXRpdGxlIHsKICAgIGZvbnQtZmFtaWx5OiAnT3JiaXRyb24nLCBtb25vc3BhY2U7CiAgICBmb250LXNpemU6IDIuNXJlbTsKICAgIGZvbnQtd2VpZ2h0OiA5MDA7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGZmODgsICMwMGQ0ZmYsICNmZjZiOWQpOwogICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBiYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICB0ZXh0LXNoYWRvdzogMCAwIDMwcHggcmdiYSgwLCAyNTUsIDEzNiwgMC41KTsKICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTsKfQoKLnN1YnRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGNvbG9yOiAjMDBmZjg4OwogICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgIGxldHRlci1zcGFjaW5nOiAycHg7Cn0KCi5oZWFkZXItY29udHJvbHMgewogICAgZGlzcGxheTogZmxleDsKICAgIGdhcDogMXJlbTsKfQoKLmNvbnRyb2wtYnRuIHsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMjU1LCAxMzYsIDAuMik7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjMDBmZjg4OwogICAgY29sb3I6ICMwMGZmODg7CiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7Cn0KCi5jb250cm9sLWJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDI1NSwgMTM2LCAwLjMpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDI1NSwgMTM2LCAwLjQpOwp9CgovKiBHYW1lIE1lbnUgU3R5bGVzICovCi5nYW1lLW1lbnUgewogICAgcGFkZGluZzogM3JlbSAycmVtOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgoubWVudS10aXRsZSB7CiAgICBmb250LWZhbWlseTogJ09yYml0cm9uJywgbW9ub3NwYWNlOwogICAgZm9udC1zaXplOiAzcmVtOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIG1hcmdpbi1ib3R0b206IDNyZW07CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNmZjZiOWQsICMwMGQ0ZmYpOwogICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBiYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICB0ZXh0LXNoYWRvdzogMCAwIDQwcHggcmdiYSgyNTUsIDEwNywgMTU3LCAwLjUpOwp9CgouZ2FtZS1ncmlkIHsKICAgIGRpc3BsYXk6IGdyaWQ7CiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI4MHB4LCAxZnIpKTsKICAgIGdhcDogMnJlbTsKICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgbWFyZ2luOiAwIGF1dG87Cn0KCi5nYW1lLWNhcmQgewogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOwogICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpOwogICAgYm9yZGVyOiAycHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOwogICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgIHBhZGRpbmc6IDJyZW07CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC40cyBlYXNlOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLmdhbWUtY2FyZDo6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICcnOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgbGVmdDogLTEwMCU7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdHJhbnNwYXJlbnQsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSwgdHJhbnNwYXJlbnQpOwogICAgdHJhbnNpdGlvbjogbGVmdCAwLjVzIGVhc2U7Cn0KCi5nYW1lLWNhcmQ6aG92ZXI6OmJlZm9yZSB7CiAgICBsZWZ0OiAxMDAlOwp9CgouZ2FtZS1jYXJkOmhvdmVyIHsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoMS4wNSk7CiAgICBib3JkZXItY29sb3I6ICMwMGZmODg7CiAgICBib3gtc2hhZG93OiAwIDIwcHggNDBweCByZ2JhKDAsIDI1NSwgMTM2LCAwLjMpOwp9CgouZ2FtZS1pY29uIHsKICAgIGZvbnQtc2l6ZTogNHJlbTsKICAgIG1hcmdpbi1ib3R0b206IDFyZW07CiAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMCAyMHB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSk7Cn0KCi5nYW1lLWNhcmQgaDMgewogICAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIG1vbm9zcGFjZTsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIG1hcmdpbi1ib3R0b206IDFyZW07CiAgICBjb2xvcjogIzAwZmY4ODsKfQoKLmdhbWUtY2FyZCBwIHsKICAgIGNvbG9yOiAjY2NjY2NjOwogICAgbWFyZ2luLWJvdHRvbTogMS41cmVtOwogICAgbGluZS1oZWlnaHQ6IDEuNjsKfQoKLmdhbWUtc3RhdHMgewogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgcGFkZGluZzogMC41cmVtIDFyZW07CiAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAyNTUsIDEzNiwgMC4zKTsKICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgY29sb3I6ICMwMGZmODg7Cn0KCi8qIEdhbWUgQ2FudmFzIENvbnRhaW5lciAqLwouZ2FtZS1jYW52YXMtY29udGFpbmVyIHsKICAgIHBhZGRpbmc6IDJyZW07CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5nYW1lLWhlYWRlci1iYXIgewogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpOwogICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpOwogICAgcGFkZGluZzogMXJlbSAycmVtOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIG1hcmdpbi1ib3R0b206IDJyZW07CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGJvcmRlcjogMnB4IHNvbGlkICMwMGZmODg7Cn0KCi5iYWNrLWJ0biB7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMTA3LCAxNTcsIDAuMik7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmY2YjlkOwogICAgY29sb3I6ICNmZjZiOWQ7CiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBmb250LXNpemU6IDFyZW07CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwp9CgouYmFjay1idG46aG92ZXIgewogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDEwNywgMTU3LCAwLjMpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwp9CgouZ2FtZS1pbmZvIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBnYXA6IDJyZW07CiAgICBmb250LXdlaWdodDogNjAwOwogICAgY29sb3I6ICMwMGZmODg7Cn0KCi5nYW1lLWNvbnRyb2xzIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBnYXA6IDFyZW07Cn0KCiNnYW1lQ2FudmFzRWxlbWVudCB7CiAgICBib3JkZXI6IDNweCBzb2xpZCAjMDBmZjg4OwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIGJveC1zaGFkb3c6IDAgMCAzMHB4IHJnYmEoMCwgMjU1LCAxMzYsIDAuNSk7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwogICAgbWFyZ2luOiAwIGF1dG87Cn0KCi8qIEdhbWUgT3ZlcmxheSAqLwouZ2FtZS1vdmVybGF5IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC45KTsKICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICB6LWluZGV4OiAxMDAwOwp9Cgoub3ZlcmxheS1jb250ZW50IHsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC45KTsKICAgIGJvcmRlcjogM3B4IHNvbGlkICMwMGZmODg7CiAgICBib3JkZXItcmFkaXVzOiAyMHB4OwogICAgcGFkZGluZzogM3JlbTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTsKICAgIGJveC1zaGFkb3c6IDAgMCA1MHB4IHJnYmEoMCwgMjU1LCAxMzYsIDAuNSk7Cn0KCi5vdmVybGF5LWNvbnRlbnQgaDIgewogICAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIG1vbm9zcGFjZTsKICAgIGZvbnQtc2l6ZTogMi41cmVtOwogICAgY29sb3I6ICMwMGZmODg7CiAgICBtYXJnaW4tYm90dG9tOiAxcmVtOwp9Cgoub3ZlcmxheS1jb250ZW50IHAgewogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBjb2xvcjogI2ZmZmZmZjsKICAgIG1hcmdpbi1ib3R0b206IDJyZW07Cn0KCi5vdmVybGF5LWJ1dHRvbnMgewogICAgZGlzcGxheTogZmxleDsKICAgIGdhcDogMXJlbTsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgouYnRuLXByaW1hcnksIC5idG4tc2Vjb25kYXJ5IHsKICAgIHBhZGRpbmc6IDAuOHJlbSAycmVtOwogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLXJhZGl1czogMjVweDsKICAgIGZvbnQtc2l6ZTogMS4xcmVtOwogICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgbGV0dGVyLXNwYWNpbmc6IDFweDsKfQoKLmJ0bi1wcmltYXJ5IHsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzAwZmY4OCwgIzAwZDRmZik7CiAgICBjb2xvcjogIzAwMDsKfQoKLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTsKICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNXB4IHJnYmEoMCwgMjU1LCAxMzYsIDAuNCk7Cn0KCi5idG4tc2Vjb25kYXJ5IHsKICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAxMDcsIDE1NywgMC4yKTsKICAgIGJvcmRlcjogMnB4IHNvbGlkICNmZjZiOWQ7CiAgICBjb2xvcjogI2ZmNmI5ZDsKfQoKLmJ0bi1zZWNvbmRhcnk6aG92ZXIgewogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDEwNywgMTU3LCAwLjMpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwp9CgovKiBMb2FkaW5nIFNjcmVlbiAqLwoubG9hZGluZy1zY3JlZW4gewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICB6LWluZGV4OiAyMDAwOwp9CgoubG9hZGluZy1jb250ZW50IHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGNvbG9yOiAjZmZmZmZmOwp9CgoubG9hZGluZy1zcGlubmVyIHsKICAgIHdpZHRoOiA4MHB4OwogICAgaGVpZ2h0OiA4MHB4OwogICAgYm9yZGVyOiA0cHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpOwogICAgYm9yZGVyLXRvcDogNHB4IHNvbGlkICMwMGZmODg7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlOwogICAgbWFyZ2luOiAwIGF1dG8gMnJlbTsKfQoKQGtleWZyYW1lcyBzcGluIHsKICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0KICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9Cn0KCi5sb2FkaW5nLWNvbnRlbnQgaDIgewogICAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIG1vbm9zcGFjZTsKICAgIGZvbnQtc2l6ZTogMnJlbTsKICAgIG1hcmdpbi1ib3R0b206IDFyZW07CiAgICBjb2xvcjogIzAwZmY4ODsKfQoKLmxvYWRpbmctY29udGVudCBwIHsKICAgIGNvbG9yOiAjY2NjY2NjOwogICAgZm9udC1zaXplOiAxLjFyZW07Cn0KCi8qIFJlc3BvbnNpdmUgRGVzaWduICovCkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogICAgLm1haW4tdGl0bGUgewogICAgICAgIGZvbnQtc2l6ZTogMS44cmVtOwogICAgfQogICAgCiAgICAubWVudS10aXRsZSB7CiAgICAgICAgZm9udC1zaXplOiAycmVtOwogICAgfQogICAgCiAgICAuZ2FtZS1ncmlkIHsKICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICAgICAgICBnYXA6IDEuNXJlbTsKICAgIH0KICAgIAogICAgLmdhbWUtaGVhZGVyLWJhciB7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICBnYXA6IDFyZW07CiAgICB9CiAgICAKICAgICNnYW1lQ2FudmFzRWxlbWVudCB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiBhdXRvOwogICAgICAgIG1heC13aWR0aDogNDAwcHg7CiAgICB9Cn0KCi8qIEFuaW1hdGlvbnMgKi8KQGtleWZyYW1lcyBmYWRlSW4gewogICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsgfQogICAgdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0KfQoKLmdhbWUtY2FyZCB7CiAgICBhbmltYXRpb246IGZhZGVJbiAwLjZzIGVhc2UgZm9yd2FyZHM7Cn0KCi5nYW1lLWNhcmQ6bnRoLWNoaWxkKDEpIHsgYW5pbWF0aW9uLWRlbGF5OiAwLjFzOyB9Ci5nYW1lLWNhcmQ6bnRoLWNoaWxkKDIpIHsgYW5pbWF0aW9uLWRlbGF5OiAwLjJzOyB9Ci5nYW1lLWNhcmQ6bnRoLWNoaWxkKDMpIHsgYW5pbWF0aW9uLWRlbGF5OiAwLjNzOyB9Ci5nYW1lLWNhcmQ6bnRoLWNoaWxkKDQpIHsgYW5pbWF0aW9uLWRlbGF5OiAwLjRzOyB9Ci5nYW1lLWNhcmQ6bnRoLWNoaWxkKDUpIHsgYW5pbWF0aW9uLWRlbGF5OiAwLjVzOyB9Ci5nYW1lLWNhcmQ6bnRoLWNoaWxkKDYpIHsgYW5pbWF0aW9uLWRlbGF5OiAwLjZzOyB9Ci8qIEZvb3RlciBTdHlsZXMgKi8gLmdhbWUtZm9vdGVyIHsgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMjBweCk7IHBhZGRpbmc6IDFyZW0gMnJlbTsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItdG9wOiAycHggc29saWQgIzAwZmY4ODsgbWFyZ2luLXRvcDogYXV0bzsgfSAuZ2FtZS1mb290ZXIgcCB7IGNvbG9yOiAjMDBmZjg4OyBmb250LXNpemU6IDFyZW07IGZvbnQtd2VpZ2h0OiA0MDA7IGxldHRlci1zcGFjaW5nOiAxcHg7IH0gLmdhbWUtZm9vdGVyIHN0cm9uZyB7IGNvbG9yOiAjZmY2YjlkOyB9Cg=="
}